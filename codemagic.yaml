# Automatically generated on 2021-02-01 UTC from https://codemagic.io/app/60174be29e376a245c4ea308/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmdGNGpJUmFwR29CdWJqbWdXS1VWR2F6NE1pVGZyWWdLbVhiUDMzQ1FlMERzODRRLTc1OHkyYkVNQTVBcUN3eFQ3SVZZQlc1R3lFWTd3elR2VzlJRjZXVnJYV05jOTBMdHNuLUVkMHlfZFEwUnlFY0lDNFlsTi04NW9kWXJtRlozbV91SzY5b0dUamYwY3A1bTYzalVzUzVzaC1zUnRYeXFFN09lMGtWRWZVZVdJOUVnQm5oNmpXa2tDZklpOVhPYnpjVkdHbVVOYlFtMFBxOExKT29GbnYxQlBXaGZ5cmRBRURCTGdwV1RXNEh0dlNkMzhIVGpTY1VLVnI2Y0FGU2NTeDVNN3BsSUI2VE1TMEktb2g5bkZwUHZna2VKM21nS0RKVnFiRzMyVkVpVm0wcUItWDM4dkw3Q1laQVE5MDZGZEdGZ0E3NEZRVFQ5R1RjMmdDYnNOWkpRYlBIby1Fd1hqVmJFeFA0U0w5c2NDQUNKQTdVcnNLQXZnRDdVM1pTMXdkc0dTdkViZGNwMXJONl9odTBuVjdmc25sNUZtSEw3NGRWOEFiTGlPWTNUR2lkemtXSExxOElmVkdLR2JPNXlrYUVGOUw4VThRRXUwS2tqYUFUNUFSaXlLYVh6aS1pVHFwODkyWHpwM1ZjU3ZBcU96emRvYVhTdlhuYXdoYTU3S0hBRThzV2IxM01Ob0RBalVDMlJXVjBuLW5OMFFDWU9JSFVHbF9NY0ZJSkk0ZmQ1Wlk2WDJlaEdoQ29uMklLR2x4SFNBbE8za2owemI0aG9VVzZSSjJmSTl0N2Y1ZkJxbFFNNEUtZmRMOHgzOG5EZkNRRUE5NmFzb3ZweFB5c2g3c3prbWtKWUY3eXBzSzJqVTVUQWdBX2NocXR4cFU0NlFubXZybXZpZWd1RzJnbHRSTjZDVnlRS3NrZG42OFJoVDdYbG5icnExNklzd09PdTU1dVdjckF0azVuMFRrNE1IQUNfRXJWdVItTGdRSjNjLVZ3aXJoeWdFNjFGNnpDSlU1V3k5NDluV2Q5ODRNVm5HSG9jeUVRM0o2WFkyelBJbFhRTFlJTmxPRnBhLW4zU0JiQVh2VVZoMUY5Ym9lUmJNbTgxV0xVTFEtMDEwUmh5blBEOFZVTlA3NDkxMlQycDNIMjR3UW1FQk5aVFZidEhVR0toWGVGd2tJR1IzTzlkTXBqNDE2R0FyYUtjazMtSlR2b2FIRHF5ajNfUFZQNHRIRmhpTGc3bjJZenpCWlRYX0htNVQ2Y19aVC1aVllTQkJhb0U2c05uZGc3cElFMkJ5ejBPbEhsOWVJbXk0cndMb0hIbVFxcTFIT2ZZeWE4a3ZaUllSaU5Ubng1TEZrZVp5MmxqcEppUkduM2I5UjEtbHM5YjlzUXUyYVZjTGxQY1d5R2xHSldZZWZuYXNhTGFzRmhUalN4RTZKdTZ1b0JHTnUxZ3hlc0RfOUgzX2dlTUExeGd2bUpvZXVaUURNUUxDQlY2RHdqU3lUVlN5dXpIYkJMRHk1TkFMRU1wQlJhTWlLRU1lM3dNa0VjYURIZFlld0FRQ0ctV0FWb25CeWNFaXNJVW5WWTdRSGQ4TWl1N0o2UUZaZ3VpM2xkRExadGNwamNVQXJGUm93bUdzNFR2eG9ROFF1Wk1kTVJubkJzZl96VGltWmJLeWQzWkl1d2pHWkd2VXFwZ2hBeUJzS0t6bEtBbkdwLUk4anVDOUFfb0M2ejFWczYwNzVRTzdGX2hpdmJ3d2RxYU9Uc1lSdjYzVkR1N3laeXpBeEZxSVBPLUZwU3ZPMFdBRlpLMHROakY3Zi00bGp0bmwxbC15dWdRVm94Wk1YTWVyMnBweDNicGVKelVVckg1WWF3R3dpdFdXUDJLWF9kVFlnWkZLb0llaEZ6em5LM2VkUldxWFVVZmE3T2NCcnFFblRHdDhNRlFKRHBYdThpV1BPSHJYaXlXWm5sTEVaeFNqSFcyaEhpcVZoMmtBRGJ3X1VEaDJQc29hdTE5Qjc4ZlhzVXlwU2dJTUctTHdqRU9UQkpHcFNpVFZZNkVhWGkySjhpUl9xY2lSMUVYZmNBekRjUmlZOGhfRF9vYlMzbzNxajJ5UlM1Mkoxa1dzN3JSR21LMlVzWHJ5eG9rSGthVExMMW5sRVhYb1o3SzY0RWhSbEJJNVAxT1pVaWhMTG1DMHRLY0dGdmp0d0Z2Z01CSzhfekJzTWJZLVlHeVcwZmtvVFhKTjJwUWxwZUlUV1FKWnlja1gtVzdlcTlieVV3anB3dkVYVjNNTmpGRTdWTnQzcUxNTDkwWmswbnZwMllmel9aLVhPU25zbzFUMDlPNFRaeFJ5dUR6U0RWWGJMQTlRcUxnQ29xcGpkb09MQ2NnNWVXRWZ3SGc4RDU2UTdwMW1yVEdncDdzOGo3OTdwNjVjN2dvcHBOWWpzNlBWVTg1a0h1MzE0ekFnZFZDXzBmWThpNzNfNFZmM3ZST3NYVEZhYmgyNXkxMS1PYjR3bjBnLUZTNndHVVpGcmw0dkFvS1lHV1JGZXBnR013cE4yYW8zbGZra2dzQlpiY29GOU1jY291SXJfMGdrRjktWTRNOFdUd2ZtUzZoN1RUZVhvTGhEeDVPNUVtelQwMEpYbVFieDhaRUtpaGhKZzF1UmhhUTc1UEZHQVNBX3B5NlFuOEtSTFdYN3RjcmxJY2FSU25lWWpUNjhmZzBnemFSYUt5WnRlM2tpVlZJc1Y0bDJLazJSYkRrRFBVV0paNno1LVJJanNvRHdzVkFrVHpQVXRmVV9FTG41Mi11Uzh6SDVLTnROeHlISEVOY1BHb3ZTRklYUWctOGp5QzdJOTZEWXNtWVFkUE95WERMUE1qWlRqSko4UTMwQjViaXNEYmFraVkxQzl6d1BqZ2dKLTJhZXZ0WU5PR2pYUDh2WDVIUjR3YXFHOGV0OUw2WHkzQkFXeVh1RERjQl9WU2RNb2czQVNOTHBFblVqRjIyRmhnSnJRSU9oeHpUYkdLUEU2UWd3QUlGNExoUUJOUjlpcUVQWmVRb014QXhtM05lY2RxUVZvVUt3eDRYV0NETnFBWFNhWWluSHhJRGZVaFlIc19SbXNrbjlhWjQxMzlrdlB4dE5yVUxGNnpGWWluekVWc1NSa1FWWHEwSFNwVzQtSVlJRmtSV1FTeFlZa3BLYzJiLW1POGJLNmZRQ3FKM1o3TktWOTJFNmRCLU5xcTZYd19XOVVCbC1FOU91OEFqaFpicHh5XzcxY3lhUkF2V0tQZWg3Vk5jWTJlUXBiaDhiNXBERVBMYkMzMEtsa1Z1bHZod2dPWFhmN0REWXlzTzZjdXgtUEVsNl9aZXpYbDdtUl9iZU95a0tiaHJ6SG1jOGZZakdnandmWHppVUJobkY1X251T2s3dEdNSm5YUXByLTRJNVpBNnk4d1AzYTdtT3BPZUpIWUROS09CSDZsdjN1RkE1U2VRcjZSS1RnZDE5OE9HS2ZKdFpjS09lYzVBdUJtREEyNGZXSy1mQUNrbENSNUx4NkZFeXVmWHJqN2VpRnhVRWlpdkNZS0tFRzd6NDk2RDdEZHU4QjQ1el9odzh3clBDRHlRalNlOWh2NEtoYmN2SnRjYlR2QWQwMm0wR1pLX0RiVGRHM3dTOFVIYXV5MGZVd1IyNUZKRC1mTEF3eS1vN21wTkJ0MVNwVThaV1Fab1Z5THZsMjJqeUpkZFJDQzhkU2VzTkJWNUJOdGxqVE9XaUZiUUt3UjFocVZYR0luRGp6SjFRbGRWTHlzVFhqZTgxM3lsMHNkVDgwMTZQM1ZTdjNWY1hTUDBxeG5oaDJLazcyX0xiRHVveENIa1hId3hWdmdKaWgtdF95bXNZYWRSZjhScFdqWXhnZDl2V3QtTEdTbFpzZkMxcjBnbWctR1ZiWDR2NDAyT3VucEZLalA1cUNVTlVwRWR6ZHp1V3VJTjEwQzBHSGQ2ZUFIQnZwZHctMVl1WFlYTDQ5TS00OEg1bXJ6N05wVG5KbGZKd0dncVFINHhMaE5SOVJoXzJYeE1RN3lWeWNNOWpzS2l6Um9JdWJkeE1DOWdscXVXNXZ6R2E2emhCWnBCdVRqdzdGV2pHbzc3VHdXOU1FZ2NaaHcwemdrTXBoeng2YVd5SUVRbFpjSm1aTGJmTDRBR2ZWNmZ5U3RrWXZSMWFIaGt3ZEdSb1FhekdYRTZZZHlkZldXdjJRWU94eGRUbE9PSll6RGpFdEhQQjhoQ0dMc2pLTmJQWE9QLTE3VXJmTmxLQmdrdkpjNHBHeEN2UXUzcVFsVzFwU0NyaEpLVnJrZWhsN2k4bHlQb2hGai1ybTJfNU5aeGJ1blNwcUlKSENyTnhQMk9mVjdwMWNkaEQtX0V5YnNQZC1tWGVsNjlDU0gwUGt3V1BhSFZaU0hMNVBOTkU5TWI2N3BPY0RCZi02blN4YkVmXzh6SEUwZWJXSmNtdU5UdmtxWFA5bG1fVjdPc3B2cUY3V2kxdUp2Q0RfY1dZQWVwZDhHU3hLbGxwSlk5ZGZQOFVoeURwWFpfLUZWX1BvVEdJc2RORmM3Y2J4YkxwcXc4THRYcjlVaFVxbS14SUczRlFNekNMdHpGTVduZGhsX2RXMVpKd2Z3UjFfb1NDSnc3VXl1eFc2Z1hCLVlCMC01dmRpTFhUTGhoVjFhSkZVVWhya1c3cXF0aUxpX2QxeTZzYXFCUzRqNE4wd3VmUmRtc3FKcG82WVd3LUZzNGZEREhELWRURFA5MGVtMmVzRlFSeGw0MVdkZzdYQUJEYnF2MkVOVWx4RXdHUkc1Z1JDU3dOZVFhYTNkdVpKU09TcS1JaktRNmRpcGxCZ0lPMXFTWDcwck9wZGZOZExuMnVrbFZYU3dKSjh2ZlZ2dXl5OG4wRlo3TWl6R2JBU1hFY1NZMkpERF9hNGdFSks2LUY3VkZEVTRtZHV4eXFVZ1dubEQ1Q2pfLXNBcGRYWG0wMk5SUEplYkNTLXZ2SGZLNFltcTFTYXQtUFZIWkpyRE5WUXZxbElpbDl5d2llaXJfWU5iM2JLYkxrSXRGSXVKWS12Y2NUSWRLekY2YnhKYm5PWHRJTjQ2M3NfN2VTaTRhV3l1dU9EdS1RTVJ1YUpNZVRhajNVWnZRY0U1cU85SGlVX1g4VlFZWGhqbXgtb0VaLXVhcHZwYVlLT0Yya19lM2ZSS25BOUEyU2NkdmJhMUEwX0Z2d0gwWEtLd2YzN1lVSFVjLWNjelJRQkE0WlRNbGV0V3ZsR0JpOHdyVW52MWZFNl9pdFRqOFhWcnpFcVRnaEl5d29zX0pMeTV0VmdvQ0ZuUThxNG5ZNl9DNlFha1daZjJLMl8zcVNxUVhoQTBMMVplVm5tMUtvN2JtVlFLelppUXBOQ2t3RnpqODJ3Tko3UGpMZ2toYWd2YXRHRW5RZFA1M3JGcVU1NmZFXzlIVVFoemo3Z1dsaXQ1YU9HSjlzbTZtQlpFSkpKRHJMVzJrZjk3V1lKcXcwM0tPdmxabEoyeG9lNnRfTEpXRHZYZWRISDY2bW5ObF9ndE1XNmtQWEIza09iak1HN2tvS01ua1JzTmtYdjBwSUdCZlVNcjFQdV9veThLWlMwWTN5a2RENW4xeGJnbHpsRFBzblIxa1p5MVphZnZ3X3lvcnYwbER3SThSYmhDM1UwVnJ1dEtPbXMydkFpNVF1OVNmT2g1b3psakY1QUxyRkR4Tm92aV9ES0F2Uk5obWJGaU1yY2lvdXhCVWJQOHM1UldpVnJMZ0p1Z1NybmxfcFc3UHVJUE1LT2hBRnVHTjhFaFJKcnY3N1ZHZE5kdjJRYXBieFVPdHAwMER4ajgtdUl3eXB0d3RpbWZKeWhSNkhDN0FkM0x0Qm1jZEx5SmFfdU9BMkFSdHFqRHpUVU9XX1lpaWhNMEM3aVUzbHZjU2lRZ2ZyTUdzck5idlNpdzlSVWlJM21GLWg5clBHYTRhSFBmQlE1dDFCRElrWUt3eUc1dEkzNXpOU3NkRkw1MzJFNFl2Y3dDZDA1RGFlSlRYTGUyOWp0SXFtVUlEWENIbHYxRzRER2xhNW1UZXNPNDNrakJ5Q2VNNDlnbVZ6Tl90V05ZWTZMSUVwVUluTVg5aXRtelFBLWtHTkRBZG9XTklFUDI5Mm91X1pSVU9TT2xTajJQejFfXzBmYlVUckdVZ1EySElYbS1mbTc1c1poUWVNNGJNNXEzTGxjNGd5YmtWWm1LaUswWnVjTnMxUTUxeV9nNk4waDhvZklCeVhFYWVZbFhrSGc2aTE1aGt1Q3FEejBEbHZhQXIwU01yQU05RjBGYUhxRVl0UkdZaGM=)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmdGNGpJNGR2OFNwdlhGX1BjNG40ZTRKUUNEOGJGM0RpQThUU213QnVQRkdOOHJGd1BXSUNWSnM3VXpuRGV3cG9MNS00NllfMDdSMDI1a1FGV1NxdnpmWko2eVpXV2xaaFM3akNBR0lUSEtuZm5MbzQ9)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmdGNGpJbXA2TXF3TlFpVjVBaHUwTU5JMm5NbThXSkZYelRMWEZKNWJETzViSmR3VHBVMzJDNExkdFRHWVJTTEQ1ZTNZSkNxVDhjT1JxX0hGOWUxX0xZYUJVYkRvS0JDN1I1V0gxZXdJT2pGS2gxTzg9)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmdGNGpJT2JLOHlIVjktNkkxV1FUTklBYzFlZEg0WU83NTZBenpXdWFSVUthek5EV3I2VHFUVlNyYWZwTVQ3OUx2Rzh1YnAwXzY5N0gwQ21QeUN0Y2VkMWNmeGtXWGJFTktSb0NzYW9fQVI2WlpXRWM9)
        APP_STORE_CONNECT_ISSUER_ID: b5bd16c7-99c9-4e89-ac82-43139d5606a4
        APP_STORE_CONNECT_KEY_IDENTIFIER: 9R2GGZP4WZ
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdGNGpJTWNGQnpmZ0xjRU5zWlBwcHlubVM1TS01V0xLNHRPMmExM1QxcXphMnp3WElIQVJxTXNSY084UUpHaDV4bWE4RFBXLVpma0VfbjhKSi1SLU8zSU5oREJEU0NOWGtkbjNhTHk2YlRqRVFUSGFJU0U4MkxVcXhZSWRUMHY5b2c2eXQ4RkNvWWl3NWJPRUdENFdTaThDM2xuR3hIQURXM3lDb0JQWV9ydmE5SnZLOGNScjRWRFZqMzJBU0ppbUktMklubEtlMy1CaFotMndZZUxDa2ozX2d2ZEtEWnVKZmpDUUxpZUg4VFdkU3BtbE12YkFGczVGdjRiTzlqMHk2ekl5NWI4SS1KVF9fSlNLMVNMeVN1QkJMdU5TNWxmckJadmdBdS0zWHhwR3R0QjY5WXR2eGpRdzFWbjFzSVlyTTBZYmpzN3pOWGhqT3U5b3ZHRVlzQWhfRWhBcDloLTllZHlad0gyVkV3YlUtY3NqSXRjNDlSdjlUcldvaDVYWkVlcWpFVnRYWDBJZDladTBENXZ5ZExkOEt1TlhzMDYySWl5QlFCSERhUWFKeG91TT0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdGNGpJSmNwTWd1azlqSElRM1JfQV9VTGxlbGk3eno4TjAxUk9qYnNVNEY3aTFmaWNxenk0ME5rTTNZZk1YbGFNRVBORWRCeEhtcmphVVkzbGoyQ0VpUEtkYkEydE1NdjZPRFNONWhjQTVwaW00QXVVMC1vM3NpNlRRQ21oSjZDbjNKbG9oRzBWX0p5U1hCS29SNXZMSXNxcG51NlBtV1VWR2pWNl9ta2F2TXZpV05KTUJpbTNpeDNsMV9hSkhwem9YbGFxNjEwVUQ4czZ0cy0wLU1Sd3NHX1pZaGlJRVNTMG05WTBNMXVuOFRnZGxMZ29PM3lDNTQ4aHY5amp4NlN2REx5dV9QRDJJcHJWclkxYmY0TGFnRWFrTzRJUE1sV05uaWg0a0VYUHZ4TXl5ck0wZDBuSVlRbUFsS3VWcWxTc1BBSmdXM2E1aEZ2Vi1peW5Vdm1NLVBBN2Y1SlVLV3pVS0E5RHVpajlVeW1Hcm9ueGJLam5sNmJQMTc0M2FQbzREajY2UFdKY2gxUm1VMnM3dEhCOHF2YlZLYi1QMC1WcjFmU3k2QnYzdHB2Y2Vod1Y1T2pURDZFNmNrU21RbWNSdWhxSmFfS002dEZHZ2N5VWJfWV8yc3psM0txMldLeVNoQ2JDT3MtcVNzMkFiWkh3VTU0NEtHMnZpakhLUERRdXUxSUtqRDc1X3ZDYkZPeVNXX1E5NEFjN1kyU3RfS3dfdWZqUnYtcVNzbnlybXZCbmI2bTQwWV9FWkY5RXhyWFBJRm5wcGxxbUlQcGNBLUhOWFZ4UjlnV1BCWnlqNUFGVURaYThnd3NVVUFLbWxXZTE2UHVEX1pWWUtwUzBpMmFQbmM5Rk1DcnFJbWduZ2ZQWjZpcGtaLUpiSGxHcTZzc1d2UFhVNXhRYXlPMlBMeVpoTE83QzJtV29NektLZG1XV2ExXzhmdHpFQlhlQnVHaGQtRTVpeTZwb2dJV1RrZ0syOUxES015emdoYjVkc184bUVDNnhNZUFHMjYtOEZGVzRqYkFMN1NCaHc1ajFhX3BPNDlxdy1uc0FVcEppNGlZS1lncEEtZ0RQYkdEbmtaY3JJNHRrRVMyc0lTcmpsSVpVNk16MVMtNHdnYUg5UWluSkRIak5EU21jMFVuV1ktTWI5TzhWSGlQd2plbTZCNE9SRlZ1XzBrMmFSVkhXdnE1aS1GN2dreDRkVFdNV0twUGduQWVvZC05dTFwNkFFd3BkNUcxQVYtbnBfRDlEV0prUjdXRldzUjNxU1ZYcnBySEoyYXNnLXRWbnZvMVQ0ZmNGRC03WW9zWFpfZDdZQ2tIZW9sMXhOaVk4VXNMM0l5enVDX1VUYUE0WG1pWFllaEtWbXd2SF9SVUxxRi1YM0JwSVVDRk9kZzNYVmw1S2hWODJSd1hhNDJtcmdpMy1xRmcxTmctM1owTnpyYklUYzdkVnl2dHAyODZqaXBNVWQ2Vmw2MEprWWhEQnJKdzgwT0prUjI0eDJwTEI2OW1uR1h3WmpnclUtME5pcDlScXd0bFBpYmZPR09VRjVQN000NXR2cDdFWVM1U2Q5VXJJbXZYaHhWNlBaZTVGWkM5NmJlUUhYQjZKN24tckFyYlctWUlHXzkxQXN4VGtVSDFGUEQ1RGgtUmpUeU5XUUcxbE5teS16dW43V2NIQ3BXSWY5Y3lKbFRRZHFuLTBWUERnTDMxaDh4Y0E1elcwbDBkUU94LVNXbVdQOU5vZUgwSmdSeUM5b0ZLdW9Nd1pfay1qWVo1VEVIWE4zd1hmdG43b3pXY0NDN3ROTG15YWdWNTV1d1JwMGtVWmN6WjdrQzBNbEFrTTNVaTFSZG52UFFWbU1NazRPTUVqdml5YW9Pc1J4UlhlY0w2NHBlTUtOTDdKb2NleTdvNUtYSjdfQ1hIWFBWSGg1SC1zZ2oteUJjU2R2cXRDQ0s4bFZVd1JmY2FfbUt0NlY5WU91QWJzeVZVSkRiRWZjcUR1V01oVlRPaFdLVDM3X3FpcWh0bkxXVzFiSVVnUlNNZWJTMEc0ZFh6TFR6WDdQanFFR1ZleHJHNjJQbzBOVDQxM2JYMzNfekd2Vmo5MWk1ZVJXZ1hvZURkYndzUWxTWmQycDVtMUFSYmdkOWtQamdIaFBTLXpWT28xSFp0V1ZfVnIzZVNySGtNeFU5S2xJTkpoZDJNZkFrTElRay1aVFc4bkF4SkwyYWcwSHdfNXBLWTdWVGp0Zm9Mc3o3eVVmUTcyZmN2TUJEUm9zNlJmVkotWFZhNDFCQmt1anZoRzBxNFpId3QzamlfSVdyT2RqS1FHVkFkaXJ1cTR1UThhZEI4TFlIOVQ1c3NSdUlRTHdHZkZJTVRjZmFNYmttQkJ6QWpYaExfVHVpOWREcUdkOWlkaHFjZ0xTTGtPTVY3SGswNGlGZm9KTDZpMjFCR05aY21FSVcwUkJ0bElvd3ZUb0lHdHBUcnYtcWwtdUs1aDZqNEpKRVRHb2VGS3dqMUp6RUhQVkMwMG9LVUMxNksxODZ5ZXlIbzZvZmZTNmd0dk5sR1RGb2VvWU5SdWVGbEotTmtIYm12RWI5SFlGN20tYktMWHZLeGgycjJyS3B0NHk1Z3ctbVlBM3dpUnlwTnYxcFpLQTZLWWtQREJyNnJQeHhCYWtxMmVtMGNseVZmZXdrMi00U3EtSkxGVTNsNGRvdnhjcEZnOHVBV2lkVHIwcGp5dU1QN1RyVm5sYW5FRnp0R0gyd0hJME03RDZKNWlxR3M2WEp5bW1LUXJDZi1EZWFPT0wtd19KWXQwVlhvM2thblUyckVOV2xQeF9ldWFxU3VMdmxTa0JaUWdzdVNEQzFLQXBtV1RMcGhxVmloLWNRdmJwNkc4NDJBenlNX0RfTDJyZzdPUEVKUHlNa1ZhLWwzNk5vZGZmLUozbERueDBzZmlqODZGUjE5ODNhUWdjMWcxbzNlcXFsZjF5dFhMc29mWUZGdy1HVDZXUTN5OUpzWVhwcllWTVdnWHZ2Zk9NYzdLa2JaV2Mtc2dqX041ckJTcGxIVTBXaGhCTzhDZkpHUnFrZi1UUUpPdmNDZlNlVXVR)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - cd . && flutter build apk --debug
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.dashstrap.chat" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - cd . && flutter build ios --debug --no-codesign
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - karthik.palusa@gmail.com
